#include <cs50.h>
#include <stdio.h>

int main(void)
{
    long n, n1;
    for(;;){
    n = get_long("Введите номер карты: ");
    n1  =  n /      1000000000000000;
    if (n1>10 && n1 < 0){
        printf("Вы ввели неверный номер карты\n");
        continue;
    }
    else {
        break;
    }
    }
    long n2  = (n - n1 * 1000000000000000) /     100000000000000;
    long n3  = (n - n1 * 1000000000000000 - n2 * 100000000000000) /     10000000000000;
    long n4  = (n - n1 * 1000000000000000 - n2 * 100000000000000 - n3 * 10000000000000) /     1000000000000;
    long n5  = (n - n1 * 1000000000000000 - n2 * 100000000000000 - n3 * 10000000000000 - n4 * 1000000000000) /     100000000000;
    long n6  = (n - n1 * 1000000000000000 - n2 * 100000000000000 - n3 * 10000000000000 - n4 * 1000000000000 - n5 * 100000000000) /     10000000000;
    long n7  = (n - n1 * 1000000000000000 - n2 * 100000000000000 - n3 * 10000000000000 - n4 * 1000000000000 - n5 * 100000000000 - n6 * 10000000000) /     1000000000;
    long n8  = (n - n1 * 1000000000000000 - n2 * 100000000000000 - n3 * 10000000000000 - n4 * 1000000000000 - n5 * 100000000000 - n6 * 10000000000 - n7 * 1000000000) /     100000000;
    long n9  = (n - n1 * 1000000000000000 - n2 * 100000000000000 - n3 * 10000000000000 - n4 * 1000000000000 - n5 * 100000000000 - n6 * 10000000000 - n7 * 1000000000 - n8 * 100000000) /     10000000;
    long n10 = (n - n1 * 1000000000000000 - n2 * 100000000000000 - n3 * 10000000000000 - n4 * 1000000000000 - n5 * 100000000000 - n6 * 10000000000 - n7 * 1000000000 - n8 * 100000000 - n9 * 10000000) /      1000000;
    long n11 = (n - n1 * 1000000000000000 - n2 * 100000000000000 - n3 * 10000000000000 - n4 * 1000000000000 - n5 * 100000000000 - n6 * 10000000000 - n7 * 1000000000 - n8 * 100000000 - n9 * 10000000 - n10 * 1000000) /      100000;
    long n12 = (n - n1 * 1000000000000000 - n2 * 100000000000000 - n3 * 10000000000000 - n4 * 1000000000000 - n5 * 100000000000 - n6 * 10000000000 - n7 * 1000000000 - n8 * 100000000 - n9 * 10000000 - n10 * 1000000 - n11 * 100000) /      10000;
    long n13 = (n - n1 * 1000000000000000 - n2 * 100000000000000 - n3 * 10000000000000 - n4 * 1000000000000 - n5 * 100000000000 - n6 * 10000000000 - n7 * 1000000000 - n8 * 100000000 - n9 * 10000000 - n10 * 1000000 - n11 * 100000 - n12 * 10000) /      1000;
    long n14 = (n - n1 * 1000000000000000 - n2 * 100000000000000 - n3 * 10000000000000 - n4 * 1000000000000 - n5 * 100000000000 - n6 * 10000000000 - n7 * 1000000000 - n8 * 100000000 - n9 * 10000000 - n10 * 1000000 - n11 * 100000 - n12 * 10000 - n13 * 1000) /      100;
    long n15 = (n - n1 * 1000000000000000 - n2 * 100000000000000 - n3 * 10000000000000 - n4 * 1000000000000 - n5 * 100000000000 - n6 * 10000000000 - n7 * 1000000000 - n8 * 100000000 - n9 * 10000000 - n10 * 1000000 - n11 * 100000 - n12 * 10000 - n13 * 1000 - n14 * 100) /     10;
    long n16 = (n - n1 * 1000000000000000 - n2 * 100000000000000 - n3 * 10000000000000 - n4 * 1000000000000 - n5 * 100000000000 - n6 * 10000000000 - n7 * 1000000000 - n8 * 100000000 - n9 * 10000000 - n10 * 1000000 - n11 * 100000 - n12 * 10000 - n13 * 1000 - n14 * 100 - n15 * 10) / 1;

    long s15 = (n15*2);
    long s13 = (n13*2);
    long s11 = (n11*2);
    long s9 = (n9*2);
    long s7 = (n7*2);
    long s5 = (n5*2);
    long s3 = (n3*2);
    long s1 = (n1*2);

    long s15_1 = (s15)/10;
    long s13_1 = (s13)/10;
    long s11_1 = (s11)/10;
    long s9_1 = (s9)/10;
    long s7_1 = (s7)/10;
    long s5_1 = (s5)/10;
    long s3_1 = (s3)/10;
    long s1_1 = (s1)/10;

    long s15_2 = (s15 - (s15_1 * 10))/1;
    long s13_2 = (s13 - (s13_1 * 10))/1;
    long s11_2 = (s11 - (s11_1 * 10))/1;
    long s9_2 = (s9 - (s9_1 * 10))/1;
    long s7_2 = (s7 - (s7_1 * 10))/1;
    long s5_2 = (s5 - (s5_1 * 10))/1;
    long s3_2 = (s3 - (s3_1 * 10))/1;
    long s1_2 = (s1 - (s1_1 * 10))/1;

    long summcard = (s15_1 + s15_2 + s13_1 + s13_2 + s11_1 + s11_2 + s9_1 + s9_2 + s7_1 + s7_2 + s5_1 + s5_2 + s3_1 + s3_2 + s1_1 + s1_2 + n2 + n4 + n6 + n8 + n10 + n12 + n14 + n16);

    long summcard_1 = summcard/10;
    long summcard_2 = summcard - summcard_1 * 10;
    if (summcard_2 == 0 && n1 == 4) {
    printf("VISA, card true\n");
    }
    else if (summcard_2 == 0 && n1 == 5 && n2 == 1) {
    printf("MASTERCARD, card true\n");
    }
    else if (summcard_2 == 0 && n1 == 5 && n2 == 2) {
    printf("MASTERCARD, card true\n");
    }
    else if (summcard_2 == 0 && n1 == 5 && n2 == 3) {
    printf("MASTERCARD, card true\n");
    }
    else if (summcard_2 == 0 && n1 == 5 && n2 == 4) {
    printf("MASTERCARD, card true\n");
    }
    else if (summcard_2 == 0 && n1 == 5 && n2 == 5) {
    printf("MASTERCARD, card true\n");
    }
    else if (summcard_2 == 0 && n1 == 2 && n2 == 2) {
    printf("MASTERCARD, card true\n");
    }
    else if (summcard_2 == 0 && n2 == 3 && n3 == 4) {
    printf("AMEX, card true\n");
    }
    else if (summcard_2 == 0 && n2 == 3 && n3 == 7) {
    printf("AMEX, card true\n");
    }
    else if (summcard_2 == 0 && n1 == 6 && n2 == 0) {
    printf("DISCOVER, card true\n");
    }
    else if (summcard_2 == 0 && n1 == 3 && n2 == 5) {
    printf("JCB, card true\n");
    }
    else if (summcard_2 == 0 && n1 == 3 && n2 == 5) {
    printf("JCB, card true\n");
    }
    else {
    printf("Card false\n");
    }
}